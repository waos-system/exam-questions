{
  "genre": "データベーススペシャリスト",
  "exam": "データベーススペシャリスト試験",
  "category": "db_modeling",
  "questions": [
    {
      "id": "db_modeling_001",
      "question": "第1正規形（1NF）の条件として最も適切なものはどれか。",
      "choices": [
        "すべての属性の値が単一である",
        "主キーがある",
        "推移的関数従属がない",
        "複合主キーがある"
      ],
      "answer": 0,
      "explanation": "1NFの条件は、すべての属性値が単一値（原子値）であり、繰り返しグループがないこと。複数値を持つ属性を排除する。"
    },
    {
      "id": "db_modeling_002",
      "question": "第2正規形（2NF）の条件として最も適切なものはどれか。",
      "choices": [
        "推移的関数従属がない",
        "すべての非キー属性が主キー全体に完全関数従属",
        "部分関数従属を持つ",
        "候補キーが複数ある"
      ],
      "answer": 1,
      "explanation": "2NFは1NFであって、かつすべての非キー属性が主キー全体に完全関数従属している状態。部分関数従属を排除。"
    },
    {
      "id": "db_modeling_003",
      "question": "第3正規形（3NF）の条件として最も適切なものはどれか。",
      "choices": [
        "推移的関数従属がない",
        "複合主キーがない",
        "すべての属性が原子値",
        "関数従属がない"
      ],
      "answer": 0,
      "explanation": "3NFは2NFであって、かつ非キー属性間の推移的関数従属がない状態。非キー属性間の依存性を排除。"
    },
    {
      "id": "db_modeling_004",
      "question": "正規化のメリットとして最も適切なものはどれか。",
      "choices": [
        "クエリ速度の向上",
        "データ冗長性排除による更新異常の防止",
        "ディスク容量削減",
        "複数テーブル結合の完全回避"
      ],
      "answer": 1,
      "explanation": "正規化により、データ冗長性が排除され、新規挿入異常・削除異常・更新異常を防ぎ、データ整合性を確保できる。"
    },
    {
      "id": "db_modeling_005",
      "question": "非正規化（反正規化）を適用する場合として最も適切なものはどれか。",
      "choices": [
        "すべてのシステムに推奨される",
        "読取性能重視でデータ冗長性を容認できる場合",
        "更新頻度が高い場合",
        "複雑な結合を避ける場合のみ"
      ],
      "answer": 1,
      "explanation": "非正規化は、読取性能向上が必要で、データ冗長性による更新複雑性を許容できるOLAP型システムに適用。"
    },
    {
      "id": "db_modeling_006",
      "question": "ER図（実体関係図）において、1対多の関係を表現する方法として最も適切なものはどれか。",
      "choices": [
        "カラム数増加",
        "親テーブルができる",
        "子テーブルに親テーブルのPKを外部キーとして持たせる",
        "両テーブルに相互参照キーを持たせる"
      ],
      "answer": 2,
      "explanation": "1対多の関係は、子テーブル側に親テーブルの主キーを外部キー（FK）として持たせることで実装される。"
    },
    {
      "id": "db_modeling_007",
      "question": "多対多の関係をリレーショナルモデルで実装する方法として最も適切なものはどれか。",
      "choices": [
        "1つのテーブルで両エンティティを統合",
        "結合テーブルを作成し、各親テーブルのPKを外部キーとして持たせる",
        "一方のテーブルに配列カラムを追加",
        "複雑な結合クエリで処理"
      ],
      "answer": 1,
      "explanation": "多対多の関係は、結合テーブル（中間テーブル）を作成し、両側の親テーブルのPKを外部キーとして持たせることで実装。"
    },
    {
      "id": "db_modeling_008",
      "question": "主キー（Primary Key）の選定基準として最も重要なものはどれか。",
      "choices": [
        "最小カラム数である",
        "一意性を持ち、NULL値がなく、値変更が少ないこと",
        "数値型である",
        "最初のカラムである"
      ],
      "answer": 1,
      "explanation": "主キーは、一意性確保・NULL不許可・値の安定性（変更が少ない）を満たす必要。これが参照整合性を支える基本。"
    },
    {
      "id": "db_modeling_009",
      "question": "代理キー（Surrogate Key）を使用する理由として最も適切なものはどれか。",
      "choices": [
        "ビジネスキーよりシンプルで変更に強い",
        "ディスク容量削減",
        "すべてのテーブルに必須",
        "複合キーの完全な回避"
      ],
      "answer": 0,
      "explanation": "代理キー（例：自動採番ID）はビジネスキーより変更に強く、シンプルで参照整合性管理が容易。ただしビジネスキーも必要。"
    },
    {
      "id": "db_modeling_010",
      "question": "外部キー（Foreign Key）制約の主な目的として最も適切なものはどれか。",
      "choices": [
        "クエリ速度向上",
        "参照整合性確保、孤立レコード防止",
        "ディスク容量削減",
        "テーブル結合の完全回避"
      ],
      "answer": 1,
      "explanation": "外部キー制約により、親レコードなしの子レコード作成を防ぎ、削除時の孤立レコードを防ぎ、データ整合性を確保。"
    }
  ]
}