{
  "genre": "データベース",
  "exam": "基本情報技術者試験",
  "questions": [
    {
      "id": "fe_db_001",
      "question": "関係データベースにおいて、表の行を一意に識別するための列（または列の組合せ）を何というか。",
      "choices": ["外部キー", "主キー", "インデックス", "ビュー"],
      "answer": 1,
      "explanation": "主キー（Primary Key）は表の各行を一意に識別するための列です。NULL値は許可されず、重複できません。外部キーは別の表の主キーを参照する列です。"
    },
    {
      "id": "fe_db_002",
      "question": "SQLで「社員」表から「部門コード」が'10'の社員の「氏名」を取得するSELECT文として正しいものはどれか。",
      "choices": [
        "SELECT 氏名 WHERE 部門コード = '10' FROM 社員",
        "SELECT 氏名 FROM 社員 WHERE 部門コード = '10'",
        "SELECT * FROM 社員 WHERE 部門コード = '10' AND 氏名",
        "GET 氏名 FROM 社員 WHERE 部門コード = '10'"
      ],
      "answer": 1,
      "explanation": "SQLのSELECT文の基本構文は「SELECT 列名 FROM 表名 WHERE 条件」です。SELECT・FROM・WHEREの順番は固定されています。"
    },
    {
      "id": "fe_db_003",
      "question": "正規化の目的として最も適切なものはどれか。",
      "choices": [
        "データの検索速度を向上させる",
        "データの冗長性を排除し、更新時の不整合を防ぐ",
        "データを暗号化してセキュリティを高める",
        "データのバックアップを自動化する"
      ],
      "answer": 1,
      "explanation": "正規化はデータの冗長性（重複）を排除して更新時の不整合（更新異常・挿入異常・削除異常）を防ぐことが目的です。ただし正規化が進むとJOINが増え検索性能が下がる場合もあります。"
    },
    {
      "id": "fe_db_004",
      "question": "トランザクションのACID特性のうち「原子性（Atomicity）」の説明として正しいものはどれか。",
      "choices": [
        "トランザクション前後でデータの整合性が保たれる性質",
        "トランザクション内の操作はすべて完了するか、すべて取り消されるかのどちらかである性質",
        "複数のトランザクションが互いに影響を与えない性質",
        "コミットされたデータは障害が発生しても失われない性質"
      ],
      "answer": 1,
      "explanation": "原子性（Atomicity）はトランザクション内の操作が「全て完了（コミット）」か「全て取り消し（ロールバック）」かのどちらかになる性質です。ACID特性の他は一貫性・独立性・永続性です。"
    },
    {
      "id": "fe_db_005",
      "question": "SQL文「SELECT 部門, COUNT(*) FROM 社員 GROUP BY 部門」の実行結果として正しいものはどれか。",
      "choices": [
        "社員表の全行が出力される",
        "部門ごとの社員数が集計されて出力される",
        "社員数が最も多い部門のみ出力される",
        "重複する部門名が削除されて出力される"
      ],
      "answer": 1,
      "explanation": "GROUP BY句で部門ごとにグループ化し、COUNT(*)でグループ内の行数（社員数）を集計します。結果は「部門名, 社員数」の形式で部門ごとの行が出力されます。"
    },
    {
      "id": "fe_db_006",
      "question": "外部キー制約（参照整合性制約）の説明として正しいものはどれか。",
      "choices": [
        "列の値をNULLにできないよう制約する",
        "列の値が参照先の表の主キーに存在する値のみであることを保証する制約",
        "列の値が一意（重複なし）であることを保証する制約",
        "列の値が特定の範囲内に収まることを保証する制約"
      ],
      "answer": 1,
      "explanation": "外部キー制約は参照整合性を保証します。例えば「受注」表の「商品コード」列に外部キーを設定すると、「商品」表に存在しない商品コードは登録できません。"
    },
    {
      "id": "fe_db_007",
      "question": "デッドロックへの対処法として「ロールバック」を行うのはどのような場合か。",
      "choices": [
        "トランザクションが正常完了したとき",
        "デッドロックを検出したときに、一方のトランザクションを中断して回復するとき",
        "バックアップからデータを復元するとき",
        "インデックスを再構築するとき"
      ],
      "answer": 1,
      "explanation": "DBMSはデッドロックを検出すると、一方のトランザクションをロールバック（処理を取り消し）して待機状態を解消します。ロールバックされたトランザクションは再実行することで処理を継続します。"
    },
    {
      "id": "fe_db_008",
      "question": "ビュー（View）の説明として正しいものはどれか。",
      "choices": [
        "テーブルのデータを物理的にコピーして作成する読み取り専用の表",
        "SELECT文の結果を仮想的な表として定義したもの",
        "インデックスを使って検索を高速化するための索引",
        "複数のSQL文をまとめて実行するためのプログラム"
      ],
      "answer": 1,
      "explanation": "ビューはSELECT文の結果を仮想的な表として定義したものです。実データを持たず、参照時にSELECT文が実行されます。アクセス制御やSQL簡略化に役立ちます。"
    },
    {
      "id": "fe_db_009",
      "question": "SQLのINNER JOINの説明として正しいものはどれか。",
      "choices": [
        "2つの表の全行を結合して出力する",
        "左側の表の全行と、条件に一致する右側の行を出力する",
        "結合条件に一致する行のみを両方の表から取り出す",
        "条件に一致しない行のみを出力する"
      ],
      "answer": 2,
      "explanation": "INNER JOIN（内部結合）は2つの表で結合条件に一致する行のみを取り出します。左外部結合（LEFT OUTER JOIN）は左の表の全行+条件一致の右表の行を返します。"
    },
    {
      "id": "fe_db_010",
      "question": "NoSQLデータベースの特徴として正しいものはどれか。",
      "choices": [
        "ACID特性を完全に保証し、強い一貫性を持つ",
        "SQLのみを使用してデータを操作する",
        "スキーマが柔軟で大量データの水平スケールが得意",
        "テーブル間のリレーションシップが必須である"
      ],
      "answer": 2,
      "explanation": "NoSQLデータベース（MongoDB・Cassandraなど）はスキーマが柔軟でスケールアウト（水平分散）が得意です。一方でACID特性の保証は部分的（BASE特性）となる場合があります。"
    }
  ]
}
